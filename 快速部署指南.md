# ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²æŒ‡å—

è®©åˆ«äººé€šè¿‡é“¾æ¥è®¿é—®ä½ çš„ AI è§’è‰²åˆ›å»ºåŠ©æ‰‹ï¼

---

## ğŸ“Œ æœ€ç®€å•æ–¹æ³•ï¼šStreamlit Cloudï¼ˆå…è´¹ï¼‰

### æ­¥éª¤ 1ï¼šä¸Šä¼ åˆ° GitHubï¼ˆ3åˆ†é’Ÿï¼‰

#### 1.1 åˆ›å»º GitHub ä»“åº“

è®¿é—®ï¼šhttps://github.com/new

- Repository name: `character-creation-agent`
- é€‰æ‹© **Public**
- ç‚¹å‡» **Create repository**

#### 1.2 ä¸Šä¼ ä»£ç 

å¤åˆ¶ä»¥ä¸‹å‘½ä»¤åˆ°ç»ˆç«¯ï¼š

```bash
cd "/Users/mac017/cursor10 æœˆ/character_creation_agent"

git init
git add .
git commit -m "AI Character Creation Agent"

# æ›¿æ¢æˆä½ çš„ GitHub ç”¨æˆ·å
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/character-creation-agent.git

git branch -M main
git push -u origin main
```

ğŸ’¡ **æç¤º**ï¼šå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ Gitï¼Œå¯èƒ½éœ€è¦é…ç½®ï¼š
```bash
git config --global user.email "ä½ çš„é‚®ç®±"
git config --global user.name "ä½ çš„åå­—"
```

---

### æ­¥éª¤ 2ï¼šéƒ¨ç½²åˆ° Streamlit Cloudï¼ˆ2åˆ†é’Ÿï¼‰

#### 2.1 ç™»å½• Streamlit Cloud

1. è®¿é—®ï¼šhttps://share.streamlit.io
2. ç‚¹å‡» **Sign up** æˆ– **Continue with GitHub**
3. æˆæƒ Streamlit è®¿é—®ä½ çš„ GitHub

#### 2.2 åˆ›å»ºåº”ç”¨

1. ç‚¹å‡» **New app**
2. é€‰æ‹©ï¼š
   - Repository: `character-creation-agent`
   - Branch: `main`
   - Main file path: `agent.py`
3. ç‚¹å‡» **Deploy!**

#### 2.3 é…ç½®å¯†é’¥ï¼ˆé‡è¦ï¼ï¼‰

âš ï¸ **ä¸é…ç½®å¯†é’¥åº”ç”¨ä¼šæŠ¥é”™ï¼**

1. ç­‰å¾…åº”ç”¨éƒ¨ç½²ä¸­ï¼Œç‚¹å‡»å³ä¸‹è§’ **âš™ï¸ Settings**
2. é€‰æ‹© **Secrets**
3. ç²˜è´´ä»¥ä¸‹å†…å®¹ï¼š

```toml
OPENAI_API_KEY = "sk-jrmjdqwnxpubbgwjcmoiqyewobkzhwvttyadvrgokrgnshvo"
OPENAI_BASE_URL = "https://api.siliconflow.cn/v1"
IMAGE_API_KEY = "sk-jrmjdqwnxpubbgwjcmoiqyewobkzhwvttyadvrgokrgnshvo"
IMAGE_API_URL = "https://api.siliconflow.cn/v1/images/generations"
IMAGE_MODEL = "black-forest-labs/FLUX.1-schnell"
```

4. ç‚¹å‡» **Save**
5. åº”ç”¨ä¼šè‡ªåŠ¨é‡å¯

---

### æ­¥éª¤ 3ï¼šè·å–é“¾æ¥ï¼ˆå®Œæˆï¼ï¼‰

éƒ¨ç½²æˆåŠŸåï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„é“¾æ¥ï¼š

```
https://ä½ çš„ç”¨æˆ·å-character-creation-agent-xxxxx.streamlit.app
```

ğŸ‰ **å®Œæˆï¼** ç°åœ¨å¯ä»¥æŠŠè¿™ä¸ªé“¾æ¥åˆ†äº«ç»™ä»»ä½•äººäº†ï¼

---

## ğŸ”— å…¶ä»–éƒ¨ç½²æ–¹å¼

### æ–¹å¼ 2ï¼šngrokï¼ˆä¸´æ—¶é“¾æ¥ï¼Œé€‚åˆæµ‹è¯•ï¼‰

```bash
# 1. å¯åŠ¨åº”ç”¨
python3 -m streamlit run agent.py

# 2. æ–°å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œè¿è¡Œ
ngrok http 8501

# 3. å¤åˆ¶ ngrok æä¾›çš„é“¾æ¥
```

âš ï¸ å…è´¹ç‰ˆé“¾æ¥ä¼šåœ¨é‡å¯åå˜åŒ–

---

## ğŸ“‹ éƒ¨ç½²æ£€æŸ¥æ¸…å•

ä¸Šä¼ å‰ç¡®è®¤ï¼š

- [x] `.env` æ–‡ä»¶å·²è¢« `.gitignore` å¿½ç•¥
- [x] `requirements.txt` åŒ…å«æ‰€æœ‰ä¾èµ–
- [x] ä»£ç æ”¯æŒ Streamlit Secrets
- [x] API Key æœ‰è¶³å¤Ÿä½™é¢

---

## â“ å¸¸è§é—®é¢˜

### Q1: ä¸Šä¼ åˆ° GitHub æ—¶è¦æ±‚è¾“å…¥å¯†ç ï¼Ÿ

**A**: GitHub ä¸å†æ”¯æŒå¯†ç ï¼Œéœ€è¦ä½¿ç”¨ Personal Access Tokenï¼š

1. è®¿é—®ï¼šhttps://github.com/settings/tokens
2. ç‚¹å‡» **Generate new token (classic)**
3. å‹¾é€‰ `repo` æƒé™
4. ç”Ÿæˆåå¤åˆ¶ token
5. åœ¨ç»ˆç«¯ä¸­ç”¨ token ä½œä¸ºå¯†ç 

### Q2: Streamlit Cloud éƒ¨ç½²å¤±è´¥ï¼Ÿ

**A**: æ£€æŸ¥ï¼š
1. æ˜¯å¦é…ç½®äº† Secretsï¼Ÿ
2. `requirements.txt` æ˜¯å¦åŒ…å«æ‰€æœ‰ä¾èµ–ï¼Ÿ
3. æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯

### Q3: éƒ¨ç½²åè¯´ API Key æ— æ•ˆï¼Ÿ

**A**: 
1. æ£€æŸ¥ Secrets ä¸­çš„ API Key æ˜¯å¦æ­£ç¡®
2. ç¡®ä¿ API Key æœ‰ä½™é¢
3. æ£€æŸ¥æ˜¯å¦æœ‰å¤šä½™çš„å¼•å·æˆ–ç©ºæ ¼

### Q4: æƒ³è¦è‡ªå®šä¹‰åŸŸåï¼Ÿ

**A**: 
- å…è´¹ç‰ˆä¸æ”¯æŒè‡ªå®šä¹‰åŸŸå
- å‡çº§åˆ° Streamlit Cloud Pro
- æˆ–ä½¿ç”¨è‡ªå·±çš„æœåŠ¡å™¨éƒ¨ç½²

### Q5: å¤šäººè®¿é—®ä¼šäº§ç”Ÿè´¹ç”¨å—ï¼Ÿ

**A**: 
- Streamlit Cloud å…è´¹
- ä½† API è°ƒç”¨ä¼šæ¶ˆè€—ä½ çš„ä½™é¢
- å»ºè®®ç›‘æ§ä½¿ç”¨é‡æˆ–è®¾ç½®é™åˆ¶

---

## ğŸ¯ åˆ†äº«ä½ çš„åº”ç”¨

éƒ¨ç½²å®Œæˆåï¼Œä½ å¯ä»¥ï¼š

âœ… åˆ†äº«é“¾æ¥ç»™æœ‹å‹
âœ… å‘å¸ƒåˆ°ç¤¾äº¤åª’ä½“
âœ… åµŒå…¥åˆ°ä½ çš„ç½‘ç«™
âœ… æ·»åŠ åˆ°ç®€å†ä½œå“é›†

---

## ğŸ’¡ è¿›é˜¶ä¼˜åŒ–

### æ·»åŠ å¯†ç ä¿æŠ¤

åœ¨ `agent.py` å¼€å¤´æ·»åŠ ï¼š

```python
import hmac

def check_password():
    def password_entered():
        if hmac.compare_digest(st.session_state["password"], "ä½ çš„å¯†ç "):
            st.session_state["password_correct"] = True
            del st.session_state["password"]
        else:
            st.session_state["password_correct"] = False

    if "password_correct" not in st.session_state:
        st.text_input("å¯†ç ", type="password", on_change=password_entered, key="password")
        return False
    elif not st.session_state["password_correct"]:
        st.text_input("å¯†ç ", type="password", on_change=password_entered, key="password")
        st.error("å¯†ç é”™è¯¯")
        return False
    else:
        return True

if not check_password():
    st.stop()
```

### æ·»åŠ ä½¿ç”¨ç»Ÿè®¡

```python
import datetime

if "usage_count" not in st.session_state:
    st.session_state.usage_count = 0

st.session_state.usage_count += 1
st.sidebar.metric("æ€»ä½¿ç”¨æ¬¡æ•°", st.session_state.usage_count)
```

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

é‡åˆ°é—®é¢˜å¯ä»¥ï¼š

1. æŸ¥çœ‹ Streamlit æ–‡æ¡£ï¼šhttps://docs.streamlit.io
2. æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯
3. æ£€æŸ¥ GitHub Issues

---

**ç¥éƒ¨ç½²é¡ºåˆ©ï¼** ğŸ‰

